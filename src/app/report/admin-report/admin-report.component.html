<div class="table-container">
    <table class="appointment-table">
      <thead>
        <tr>
          <th>No</th>
          <th (click)="sortBy('patientName')" style="cursor: pointer;">
            Admin Name
            <span *ngIf="sortColumn === 'patientName' && sortDirection === 'asc'">&#9650;</span>
            <span *ngIf="sortColumn === 'patientName' && sortDirection === 'desc'">&#9660;</span>
          </th>
          <th>
            Role
          </th>
          <th>Patient Name</th>
          <th>Doctor Name</th>
          <!-- <th>Therapy</th> -->
          <th (click)="sortBy('date')">
            Requested Date
            <span *ngIf="sortColumn === 'date' && sortDirection === 'asc'">&#9650;</span>
            <span *ngIf="sortColumn === 'date' && sortDirection === 'desc'">&#9660;</span></th>
            <th (click)="sortBy('date')">
                Updated Date
                <span *ngIf="sortColumn === 'date' && sortDirection === 'asc'">&#9650;</span>
                <span *ngIf="sortColumn === 'date' && sortDirection === 'desc'">&#9660;</span></th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let appointment of getPaginatedAppointments(); let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{appointment.user?.username}}</td>
          <td>{{appointment.user?.role}}</td>
          <td>{{ appointment.patientName }}</td>
          <td>{{ appointment.doctorName }}</td>
          <!-- <td>{{ appointment.department }}</td> -->
          <td>{{ appointment.created_at }}</td>
          <td>{{ appointment.updated_at }}</td>
          <td>
            <span class="status-badge">{{ appointment.status }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  
    <!-- Pagination Controls -->
    <div class="pagination">
      <button class="pagination-btn prev" (click)="prevPage()" [disabled]="currentPage === 1">←</button>
      <button class="pagination-btn next" (click)="nextPage()" [disabled]="currentPage === totalPages">→</button>
      <div class="page-info">
        Page 
        <input type="number" [(ngModel)]="currentPage" min="1" [max]="totalPages" class="page-input" (change)="onPageChange()">
        of {{ totalPages }}
      </div>
    </div>
  </div>
  